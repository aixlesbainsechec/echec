@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
/* ========================================
   CSS Principal - Académie d'Échecs (theme bleu)
   v2025-08-20
   ======================================== */

/* Variables CSS */
:root{
  /* Couleurs principales */
  --primary: #3489cc;
  --primary-dark: #053052;
  --accent: #BEE1FC;
  --accent-hover: #3489cc;
  --secondary: #3489cc;

  /* Neutres / texte */
  --white: #ffffff;
  --light: #FCFAFB;
  --gray-light: #e9ecef;
  --gray: #6b7785;
  --gray-dark: #053052;
  --text: #053052;

  /* États */
  --success:#27ae60; --warning:#f39c12; --danger:#e74c3c; --info:#3498db;

  /* Rythme / typographie */
  --spacing-xs:.25rem; --spacing-sm:.5rem; --spacing-md:1rem; --spacing-lg:2rem; --spacing-xl:3rem; --spacing-xxl:5rem;
  --font-primary:'Inter', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, 'Apple Color Emoji','Segoe UI Emoji';
  --font-heading:'Inter', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, 'Apple Color Emoji','Segoe UI Emoji';
  --font-size-base:16px; --line-height:1.6;

  /* Effets */
  --transition-base:.3s ease; --transition-slow:.5s ease;
  --shadow-sm:0 2px 4px rgba(0,0,0,.05);
  --shadow-md:0 5px 20px rgba(0,0,0,.1);
  --shadow-lg:0 15px 40px rgba(0,0,0,.15);

  /* Z */
  --z-loader:9999; --z-header:1000; --z-dropdown:1100; --z-modal:2000;

  /* Hero shrink (0 = plein écran, 1 = rétracté) */
  --hero-shrink: 0;
  --hero-min: 42vh;
  --hero-max: 95vh;
}

/* Reset & base */
*{margin:0; padding:0; box-sizing:border-box}
html{font-size:var(--font-size-base); scroll-behavior:smooth}
body{
  font-family:var(--font-primary);
  line-height:var(--line-height);
  color:var(--text);
  background-color:var(--light);
  overflow-x:hidden;
}

img{max-width:100%; display:block}
a{color:var(--secondary); text-decoration:none; transition:color var(--transition-base)}
a:hover{color:var(--accent-hover)}
a.btn-primary:hover{color:var(--white)}
.container{max-width:80vw; margin:0 auto; padding:0 var(--spacing-lg)}
.section{padding:var(--spacing-xxl) 0}

/* Titres */
h1,h2,h3,h4,h5,h6{font-family:var(--font-heading); color:var(--primary); line-height:1.2; margin-bottom:var(--spacing-md)}
h1{font-size:3rem} h2{font-size:2.5rem} h3{font-size:2rem} h4{font-size:1.5rem} h5{font-size:1.25rem} h6{font-size:1rem}

/* Loader */
.loader{
  position:fixed; inset:0; background-color:var(--primary);
  display:flex; align-items:center; justify-content:center; z-index:var(--z-loader);
  transition:opacity var(--transition-slow);
}
.loader.hide{opacity:0; pointer-events:none}
.chess-loader{display:flex; gap:var(--spacing-md)}
.chess-loader .piece{font-size:3rem; color:var(--accent); animation:bounce .6s infinite alternate}
.chess-loader .piece:nth-child(2){animation-delay:.1s}
.chess-loader .piece:nth-child(3){animation-delay:.2s}
.chess-loader .piece:nth-child(4){animation-delay:.3s}
.chess-loader .piece:nth-child(5){animation-delay:.4s}
.chess-loader .piece:nth-child(6){animation-delay:.5s}
@keyframes bounce{to{transform:translateY(-20px)}}

/* Barre de progression */
.progress-bar{
  position:fixed; top:0; left:0; height:3px; width:0%;
  background-color:var(--accent); z-index:calc(var(--z-header) + 1);
  transition:width var(--transition-base);
}

/* Header / Nav */
.header.site-header{
  position:sticky; top:0; width:100%;
  background:var(--primary); color:#fff;
  z-index:var(--z-header);
  transition:all var(--transition-base);
  border-bottom:1px solid rgba(255,255,255,.15);
}
.header.site-header.scrolled{
  background:rgba(5,48,82,.96); /* primary-dark translucide */
  backdrop-filter:blur(10px);
  box-shadow:var(--shadow-md);
}
.nav{display:flex; justify-content:space-between; align-items:center; height:70px}
.nav-logo{display:flex; align-items:center; gap:var(--spacing-sm); color:#fff; font-weight:700}
.site-logo{max-height:64px; height:auto; width:auto}
@media (max-width:768px){.site-logo{max-height:48px}}

.nav-menu{
  display:flex;

  a:hover {;
    color: var(--white) !important;
    text-shadow: 1px 1px 2px black ;
  }
}

.hero-bottom-wave{ position:absolute; bottom:-1px; left:0; right:0; height:120px }

.chess-pattern{
  position:absolute; inset:0; opacity:.15; pointer-events:none;
  background:
    conic-gradient(from 90deg at 25% 25%, transparent 0 90deg, rgba(255,255,255,.18) 0 180deg, transparent 0 270deg, rgba(255,255,255,.18) 0) 0 0 / 40px 40px,
    linear-gradient(90deg, rgba(255,255,255,.06), rgba(255,255,255,.0));
  animation: patternShift 20s linear infinite;
}
@keyframes patternShift{
  0%{ background-position: 0 0, 0 0;}
  100%{ background-position: 80px 80px, 200px 0;}
}

.hero-bottom-wave svg{
  width:100%; height:100%;
}
.nav-list{display:flex; list-style:none; align-items:center; gap:var(--spacing-lg)}
.nav-link{color:#fff; display:flex; align-items:center; gap:var(--spacing-xs); padding:var(--spacing-sm) 0; position:relative}
.nav-link::after{
  content:""; position:absolute; bottom:0; left:0; width:0; height:2px;
  background:var(--accent); transition:width var(--transition-base);
}
.nav-link:hover::after, .nav-link.active::after{width:100%}

/* Dropdown */
.dropdown{position:relative}
.dropdown-menu{
  position:absolute; top:100%; left:0; min-width:200px;
  background:var(--white); border-radius:8px; box-shadow:var(--shadow-md);
  opacity:0; visibility:hidden; transform:translateY(-10px);
  transition:all var(--transition-base); list-style:none; padding:var(--spacing-sm) 0; z-index:var(--z-dropdown);
}
.dropdown:hover .dropdown-menu{opacity:1; visibility:visible; transform:translateY(0)}
.dropdown-menu a{display:block; padding:var(--spacing-sm) var(--spacing-lg); color:var(--text)}
.dropdown-menu a:hover{background:var(--light); color:var(--accent-hover)}

/* Burger */
.nav-toggle{display:none; flex-direction:column; cursor:pointer; padding:var(--spacing-sm); background:transparent; border:0}
.nav-toggle span{width:25px; height:3px; background:#fff; margin:3px 0; transition:var(--transition-base)}

/* Hero (avec shrink) */
.hero{
  position:relative;
  height: calc(var(--hero-max) - (var(--hero-max) - var(--hero-min)) * var(--hero-shrink));
  min-height:600px;
  display:flex; align-items:center; justify-content:center;
  overflow:hidden;
  background: 
    linear-gradient(180deg, rgba(5,48,82,0.6), rgba(5,48,82,0.35)),
    url("../assets/img/aix.jpg") center top / cover no-repeat;
  color:#fff;
  transition:height .12s linear;
}
.hero-content{text-align:center; z-index:1; padding:var(--spacing-lg)}
.hero-title{font-size:clamp(2rem,8vw,5rem); font-weight:800; margin-bottom:var(--spacing-lg)}
.title-line{display:block}
.title-line.accent{color:var(--accent)}
.hero-subtitle{font-size:1.25rem; opacity:.95; margin-bottom:var(--spacing-xl)}
.hero-stats{display:flex; justify-content:center; gap:var(--spacing-xl); margin-bottom:var(--spacing-xl); flex-wrap:wrap}
.stat{background:rgba(255,255,255,.15); border:1px solid rgba(255,255,255,.25); padding:.65rem .9rem; border-radius:999px; font-weight:700}
.hero-cta{display:flex; gap:var(--spacing-lg); justify-content:center; flex-wrap:wrap}
.hero-scroll{position:absolute; bottom:var(--spacing-xl); left:50%; transform:translateX(-50%); font-size:1.5rem; color:var(--accent); animation:scroll-down 2s infinite}
@keyframes scroll-down{
  0%,20%,50%,80%,100%{transform:translateX(-50%) translateY(0)}
  40%{transform:translateX(-50%) translateY(-10px)}
  60%{transform:translateX(-50%) translateY(-5px)}
}

/* Boutons */
.btn{
  display:inline-flex; align-items:center; gap:var(--spacing-sm);
  padding:var(--spacing-md) var(--spacing-lg); border-radius:50px;
  font-weight:600; transition:all var(--transition-base); cursor:pointer; border:none; text-decoration:none;
}
.btn-primary{background:var(--accent); color:var(--primary)}
.btn-primary:hover{background:var(--accent-hover); transform:translateY(-2px); box-shadow:var(--shadow-md)}
.btn-secondary{background:transparent; color:#fff; border:2px solid #fff}
.btn-secondary:hover{background:#fff; color:var(--primary)}
.btn-outline{background:transparent; color:#fff; border:2px solid #fff}

/* Quick info cards */
.info-grid{
  display:grid; grid-template-columns: repeat(auto-fit, minmax(300px,1fr));
  gap:var(--spacing-xl);
}
.info-card{
  background:#fff; color:var(--text);
  padding:var(--spacing-xl); border-radius:16px; box-shadow:var(--shadow-md);
  text-align:center; transition:all var(--transition-base); position:relative; overflow:hidden;
}
.info-card::before{
  content:""; position:absolute; top:0; left:0; width:100%; height:5px;
  background: linear-gradient(90deg, var(--primary), var(--accent-hover));
  transform:scaleX(0); transform-origin:left; transition:transform var(--transition-base);
}
.info-card:hover{transform:translateY(-10px); box-shadow:var(--shadow-lg)}
.info-card:hover::before{transform:scaleX(1)}
.info-icon{font-size:3rem; color:var(--accent); margin-bottom:var(--spacing-lg)}
.info-link{display:inline-flex; align-items:center; gap:var(--spacing-xs); margin-top:var(--spacing-md); font-weight:600}

/* News Ticker */
.news-ticker{background:var(--primary); padding:var(--spacing-md) 0; overflow:hidden}
.ticker-wrap{width:100%; overflow:hidden}
.ticker{display:flex; gap:var(--spacing-xl); animation: ticker 45s linear infinite}
.ticker-item{padding:0 var(--spacing-xl); white-space:nowrap; display:flex; align-items:center; gap:var(--spacing-sm)}
.ticker-item a{color:#fff}
@keyframes ticker{ from{transform:translateX(0)} to{transform:translateX(-50%)} }

/* CTA Section */
.cta-section{text-align:center}
.cta-section .cta-content{
  padding:26px;
}
.cta-section h2{color:var(--primary); margin-bottom:var(--spacing-md)}
.cta-buttons{display:flex; gap:var(--spacing-lg); justify-content:center; margin-top:var(--spacing-xl); flex-wrap:wrap}

/* Footer */
.footer{background:var(--primary-dark); color:#fff; padding:var(--spacing-xl) 0 var(--spacing-lg)}
.footer-content{
  display:grid; grid-template-columns:repeat(auto-fit, minmax(250px,1fr));
  gap:var(--spacing-xl); margin-bottom:var(--spacing-xl)
}
.footer-section h4{color:var(--accent); margin-bottom:var(--spacing-lg)}
.footer-section ul{list-style:none}
.footer-section li{margin-bottom:var(--spacing-sm)}
.footer-section a{color:#fff; opacity:.85}
.footer-section a:hover{opacity:1; color:var(--accent)}
.social-links{display:flex; gap:var(--spacing-md)}
.social-links a{
  display:flex; align-items:center; justify-content:center; width:40px; height:40px;
  background:var(--accent); color:var(--primary); border-radius:50%; transition:all var(--transition-base)
}
.social-links a:hover{transform:translateY(-3px); background:var(--accent-hover)}
.footer-bottom{text-align:center; padding-top:var(--spacing-lg); border-top:1px solid rgba(255,255,255,.15); opacity:.75}

/* Back to top */
.back-to-top{
  position:fixed; bottom:var(--spacing-xl); right:var(--spacing-xl);
  width:50px; height:50px; background:var(--accent); color:var(--primary);
  border:none; border-radius:50%; display:flex; align-items:center; justify-content:center;
  cursor:pointer; opacity:0; visibility:hidden; transition:all var(--transition-base); z-index:999;
}
.back-to-top.show{opacity:1; visibility:visible}
.back-to-top:hover{background:var(--accent-hover); transform:translateY(-5px)}

/* Responsive */
@media (max-width: 991px){
  .nav-toggle{display:flex}
  .nav-menu{
    position:fixed; inset:70px 0 0 0; background:var(--primary);
    transform:translateY(-10px); opacity:0; pointer-events:none; transition:.2s;
  }
  .nav-menu.active{transform:none; opacity:1; pointer-events:auto}
  .nav-list{flex-direction:column; padding:var(--spacing-md)}
  .dropdown:hover .dropdown-menu{display:none}
  .dropdown.active .dropdown-menu{position:static; opacity:1; visibility:visible; transform:none; box-shadow:none; background:transparent}
}


/* === MOBILE POLISH PATCH (placer APRÈS tous les autres CSS) === */

/* 1) Container full-width mobile-friendly */
.container{
  width: min(1280px, 94vw);
  max-width: none;            /* annule le 80vw */
  margin-inline: auto;
  padding-inline: clamp(12px, 3vw, 24px);
}

/* 2) Espacements & titres plus compacts */
@media (max-width: 768px){
  .section{ padding: 2.5rem 0; }             /* au lieu de 5rem */
  h1{ font-size: clamp(1.75rem, 7vw, 2.25rem); }
  h2{ font-size: clamp(1.4rem, 5.6vw, 1.9rem); }
  h3{ font-size: clamp(1.15rem, 4.8vw, 1.4rem); }
  .btn{ padding: .8rem 1.1rem; }
  .hero-subtitle{ font-size: 1rem; }
}

/* 3) Header/Hero cohérents sur mobile */
@media (max-width: 991px){
  .nav{ height: 62px; }
  :root{ --header-height: 62px; }
  .nav-menu{
    inset: 62px 0 0 0;                   /* aligne avec la nouvelle hauteur */
    background: var(--primary-dark);     /* thème cohérent */
  }
}

/* 4) Grilles: 1 colonne sur petit écran, jamais de débordement */
@media (max-width: 560px){
  /* Grilles génériques du site */
  .info-grid,
  .team-grid,
  .trophy-showcase,
  .pricing-grid,
  .levels-grid,
  .competitions-cards,
  .events-grid,
  #postGrid{              /* grille du blog */
    grid-template-columns: 1fr !important;
    gap: 1.25rem;
  }
  /* Vignettes un peu moins hautes */
  .post-thumb,
  .post-card img{ height: 160px !important; }
}

/* 5) Empêche tout débordement horizontal intempestif */
img, video, iframe, .map-container, .weekly-schedule{ max-width:100%; }
body{ overflow-x:hidden; }

/* 6) Décors 3D / pièces qui chevauchent : on réduit/éloigne sur mobile */
@media (max-width: 768px){
  .intro-visual{ right: 0; left: auto; transform: scale(.85); opacity:.85; }
}
@media (max-width: 520px){
  .intro-visual{ display:none; }          /* on coupe sous ~520px pour garder le focus contenu */
}

/* 7) Héros plus courts sur mobile (tous les types) */
@media (max-width: 560px){
  .hero,
  .page-hero,
  .events-hero,
  .school-hero,
  .contact-hero,
  .blog-hero{
    min-height: 340px !important;
  }
}

/* 8) Breadcrumbs & CTA plus légers */
@media (max-width: 560px){
  .breadcrumb{ font-size:.9rem; }
  .cta-buttons{ gap:.65rem; }
}

/* 9) Blog layout: pas de sidebar à gauche sur mobile */
@media (max-width: 992px){
  .blog-layout{ grid-template-columns: 1fr; }
}

/* 10) Petites retouches d’accessibilité mobile */
.nav-link{ padding: .5rem 0; }
.post-card{ -webkit-tap-highlight-color: transparent; }

/* --- FOOTER WIDTH BUGFIX --- */
.footer-content{
  /* Option: un peu plus flexible pour petits écrans */
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}

@media (max-width: 991px){
  .footer-section{ grid-column: auto !important; }
}
@media (max-width: 768px){
  .footer-section{ grid-column: auto !important; }
}

/* Sécurité anti-débordement de texte/liens longs */
.footer-section, .footer-section *{ min-width: 0; }
.footer-section a, .footer-section p{ word-break: break-word; overflow-wrap: anywhere; }
